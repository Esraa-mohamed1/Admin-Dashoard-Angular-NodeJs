<div class="px-5 w-full">
  <div class="mt-5 w-full gap-3 border-b border-black pb-5">
    <h2 class="text-3xl font-bold tracking-tight">Promo codes</h2>
    <p class="text-sm text-neutral-500 font-light">Manage Promo codes</p>
  </div>
  <div class="w-full">
    <h1 class="mb-5 mt-10 flex justify-between items-center text-4xl font-bold">All Promo codes</h1>

    <!-- Promo Code Form -->
    <div class="grid-container mt-8">
      <div class="bg-white shadow-lg rounded-lg p-4">
        <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
          <!-- Promo Code -->
          <div class="form-group mb-3">
            <label for="code" class="text-sm font-medium">Promo Code</label>
            <input 
              type="text" 
              id="code" 
              formControlName="code"
              class="bg-gray-50 border-2 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#321fdb] focus:border-[#321fdb] outline-none block w-full p-2" 
              placeholder="Enter promo code"
            />
          </div>

          <!-- Discount Percentage -->
          <div class="form-group mb-3">
            <label for="discount" class="text-sm font-medium">Discount (%)</label>
            <input 
              type="number" 
              id="discount" 
              formControlName="discount" 
              class="bg-gray-50 border-2 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#321fdb] focus:border-[#321fdb] outline-none block w-full p-2" 
              placeholder="Enter discount percentage"
            />
          </div>

          <!-- Expiry Date -->
          <div class="form-group mb-3">
            <label for="expiryDate" class="text-sm font-medium">Expiry Date</label>
            <input 
              type="date" 
              id="expiryDate" 
              formControlName="expiryDate" 
              class="bg-gray-50 border-2 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#321fdb] focus:border-[#321fdb] outline-none block w-full p-2" 
            />
          </div>

          <!-- Submit Button -->
          <button 
            class="bg-black w-full rounded-lg text-white font-medium py-2" 
            type="submit">
            {{ editMode ? "Edit" : (loading ? "Adding..." : "Add New") }}
          </button>
        </form>
      </div>

      <!-- Promo Codes List -->
      <div 
        class="bg-white flex flex-col shadow-lg rounded-lg p-4" 
        *ngFor="let tag of tags">
        <div class="info flex-1 pb-2 border-b flex flex-col">
          <h1 class="text-xl font-medium">{{ tag.code }}</h1>
          <p class="text-lg font-light text-slate-600">Discount: {{ tag.discount }}%</p>
          <span class="text-xs text-slate-500">Expires: {{ formatReadableDate(tag.expiryDate) }}</span>
        </div>
        <div class="flex justify-between items-center pt-2">
          <div class="flex items-center gap-3">
            <button 
              class="p-2 bg-green-500 rounded-md text-white font-bold" 
              (click)="update(tag._id)">
              <i class="fa-solid fa-pen-to-square"></i>
            </button>
            <button 
              class="p-2 bg-red-500 rounded-md text-white font-bold" 
              (click)="delete(tag._id)">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
